<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏุงุดุจูุฑุฏ ุณูุณูุฑ ESP32</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <i class="fas fa-microchip icon"></i>
                <div>
                    <h1>ุฏุงุดุจูุฑุฏ ุณูุณูุฑ ESP32</h1>
                    <p class="subtitle">๐ก ุฏุงุฏูโูุง ุฒูุฏู ุงุฒ ESP32 ุจู ูุงุชโุงุณูพุงุช ููุจุงู</p>
                </div>
            </div>
            <div class="status">
                <span id="connectionStatus" class="status-offline">
                    <i class="fas fa-circle"></i> ุฏุฑ ุญุงู ุงุชุตุงู...
                </span>
                <span id="lastUpdateTime">--:--</span>
            </div>
        </header>
        
        <main>
            <!-- ุจุฎุด ุขูุงุฑ ูุญุธูโุง -->
            <section class="live-stats">
                <h2><i class="fas fa-chart-line"></i> ุขูุงุฑ ูุญุธูโุง</h2>
                <div class="stats-grid">
                    <div class="stat-card temp-card">
                        <div class="stat-header">
                            <i class="fas fa-thermometer-half"></i>
                            <h3>ุฏูุง ูุนู</h3>
                        </div>
                        <div class="stat-value" id="currentTemp">--</div>
                        <div class="stat-unit">ยฐC</div>
                        <div class="stat-trend" id="tempTrend">
                            <i class="fas fa-minus"></i> ุชุบุฑุงุช
                        </div>
                    </div>
                    
                    <div class="stat-card hum-card">
                        <div class="stat-header">
                            <i class="fas fa-tint"></i>
                            <h3>ุฑุทูุจุช ูุนู</h3>
                        </div>
                        <div class="stat-value" id="currentHum">--</div>
                        <div class="stat-unit">%</div>
                        <div class="stat-trend" id="humTrend">
                            <i class="fas fa-minus"></i> ุชุบุฑุงุช
                        </div>
                    </div>
                    
                    <div class="stat-card time-card">
                        <div class="stat-header">
                            <i class="fas fa-clock"></i>
                            <h3>ุขุฎุฑู ุจุฑูุฒุฑุณุงู</h3>
                        </div>
                        <div class="stat-value" id="lastUpdate">--:--</div>
                        <div class="stat-unit">ุซุงูู ูพุด</div>
                        <div class="stat-trend">
                            <i class="fas fa-sync-alt"></i> ูุฑ 30 ุซุงูู
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- ุจุฎุด ูููุฏุงุฑูุง -->
            <section class="charts-section">
                <h2><i class="fas fa-chart-area"></i> ูููุฏุงุฑูุง ุชุงุฑุฎ</h2>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3><i class="fas fa-fire"></i> ูููุฏุงุฑ ุฏูุง</h3>
                            <div class="chart-legend">
                                <span class="legend-item temp-legend">
                                    <i class="fas fa-square"></i> ุฏูุง (ยฐC)
                                </span>
                            </div>
                        </div>
                        <canvas id="tempChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3><i class="fas fa-water"></i> ูููุฏุงุฑ ุฑุทูุจุช</h3>
                            <div class="chart-legend">
                                <span class="legend-item hum-legend">
                                    <i class="fas fa-square"></i> ุฑุทูุจุช (%)
                                </span>
                            </div>
                        </div>
                        <canvas id="humChart"></canvas>
                    </div>
                </div>
            </section>
            
            <!-- ุจุฎุด ุฌุฏูู ุฏุงุฏูโูุง -->
            <section class="data-section">
                <h2><i class="fas fa-table"></i> ุชุงุฑุฎฺู ุฏุงุฏูโูุง</h2>
                <div class="table-container">
                    <table id="sensorTable">
                        <thead>
                            <tr>
                                <th><i class="fas fa-calendar-alt"></i> ุชุงุฑุฎ ู ุฒูุงู</th>
                                <th><i class="fas fa-thermometer-half"></i> ุฏูุง (ยฐC)</th>
                                <th><i class="fas fa-tint"></i> ุฑุทูุจุช (%)</th>
                                <th><i class="fas fa-history"></i> ูุฏุช ฺฏุฐุดุชู</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- ุฏุงุฏูโูุง ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดููุฏ -->
                            <tr class="loading-row">
                                <td colspan="4">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="table-info">
                        <div class="info-item">
                            <i class="fas fa-database"></i>
                            <span>ุชุนุฏุงุฏ ุฑฺฉูุฑุฏูุง: <span id="recordCount">0</span></span>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-clock"></i>
                            <span>ุขุฎุฑู ุฑูุฑุด: <span id="refreshTime">--:--</span></span>
                        </div>
                        <button onclick="loadSensorData()" class="refresh-btn">
                            <i class="fas fa-redo"></i> ุฑูุฑุด ุฏุงุฏูโูุง
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- ุจุฎุด ุฑุงูููุง -->
            <section class="help-section">
                <details>
                    <summary>
                        <i class="fas fa-question-circle"></i> ุฑุงูููุง ูุตุจ ู ุงุณุชูุงุฏู
                    </summary>
                    <div class="help-content">
                        <h3>๐ ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ:</h3>
                        <ol>
                            <li>โ ุญุณุงุจ GitHub ุณุงุฎุชุฏ (ุงูุฌุงู ุดุฏ)</li>
                            <li>โ ูุฎุฒู ูพุฑูฺู ุณุงุฎุชุฏ (ุงูุฌุงู ุดุฏ)</li>
                            <li>๐ GitHub Pages ุฑุง ูุนุงู ฺฉูุฏ</li>
                            <li>๐ ุชูฺฉู ุฏุณุชุฑุณ ุจุณุงุฒุฏ</li>
                            <li>๐ ฺฉุฏ ESP32 ุฑุง ุขูพููุฏ ฺฉูุฏ</li>
                        </ol>
                        
                        <h3>๐ ุขุฏุฑุณ ุฏุงุดุจูุฑุฏ ุดูุง:</h3>
                        <code id="dashboardUrl">ุฏุฑ ูุฑุญูู ุจุนุฏ ุณุงุฎุชู ูโุดูุฏ</code>
                        
                        <div class="alert">
                            <i class="fas fa-info-circle"></i>
                            <p>ูพุณ ุงุฒ ุชฺฉูู ูุฑุงุญูุ ุฏุงุฏูโูุง ุณูุณูุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฏุฑ ุงู ุตูุญู ููุงุด ุฏุงุฏู ูโุดููุฏ.</p>
                        </div>
                    </div>
                </details>
            </section>
        </main>
        
        <footer>
            <p>ุณุงุฎุชู ุดุฏู ุจุง <i class="fas fa-heart"></i> ุจุฑุง ูพุฑูฺู ุณูุณูุฑ ESP32</p>
            <p class="footer-info">
                <i class="fas fa-code-branch"></i> ูุฎุฒู GitHub: 
                <a href="#" id="repoLink">sensor-dashboard</a>
            </p>
        </footer>
    </div>
    
    <!-- ุงุณฺฉุฑูพุชโูุง -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
